file.names = as.numeric(sub("\\.csv$","",fileList))
selected.files = fileList[match(30:25,file.names)]
selected.files
Data = lapply(file.path(path,selected.files),read.csv)
class(Data)
str(Data)
res = lapply(Data, function(x) x[complete.cases(x),])
res2 = data.frame()
for(i in 1:length(res)){
res2 <- rbind(res2,c(id=30:25,nob=nrow(res[[i]])))
}
colnames(res2) <- c("ID","nob")
res2
for(i in 1:length(res)){
res2 <- rbind(res2,c(id=i,nob=nrow(res[[i]])))
}
colnames(res2) <- c("ID","nob")
res2
for(i in 1:length(res)){
res2 <- rbind(res2,nob=nrow(res[[i]]))
}
colnames(res2) <- c("ID","nob")
res2
path = "C:/Users/607518069/Documents/R Projects/Coursera/R-Programming-Coursera/Data/specdata"
fileList = list.files(path)
file.names = as.numeric(sub("\\.csv$","",fileList))
selected.files = fileList[match(30:25,file.names)]
Data = lapply(file.path(path,selected.files),read.csv)
class(Data)
str(Data)
res = lapply(Data, function(x) x[complete.cases(x),])
res2 = data.frame()
for(i in 1:length(res)){
res2 <- rbind(res2,nob=nrow(res[[i]]))
}
colnames(res2) <- c("ID","nob")
res2
colnames(res2) <- c("ID","nob")
res2 <- cbind(res2,id=30:25)
colnames(res2) <- c("ID","nob")
res2
colnames(res2) <- c("nob","ID")
res2
path = "C:/Users/607518069/Documents/R Projects/Coursera/R-Programming-Coursera/Data/specdata"
fileList = list.files(path)
file.names = as.numeric(sub("\\.csv$","",fileList))
selected.files = fileList[match(c(2, 4, 8, 10, 12),file.names)]
selected.files
Data = lapply(file.path(path,selected.files),read.csv)
res = lapply(Data, function(x) x[complete.cases(x),])
res2 = data.frame()
for(i in 1:length(res)){
res2 <- rbind(res2,nob=nrow(res[[i]]))
}
res2 <- cbind(res2,id=30:25)
colnames(res2) <- c("nob","ID")
res2
res2 <- cbind(res2,id=30:25)
res2
colnames(res2) <- c("nob","ID")
res2 <- cbind(res2,id=30:25)
res2 <- cbind(res2,id=c(2, 4, 8, 10, 12))
colnames(res2) <- c("nob","ID")
res2
rownames(res2) <- NULL
res2
path = "C:/Users/607518069/Documents/R Projects/Coursera/R-Programming-Coursera/Data/specdata"
fileList = list.files(path)
file.names = as.numeric(sub("\\.csv$","",fileList))
selected.files = fileList[match(c(2, 4, 8, 10, 12),file.names)]
Data = lapply(file.path(path,selected.files),read.csv)
class(Data)
str(Data)
path = "C:/Users/607518069/Documents/R Projects/Coursera/R-Programming-Coursera/Data/specdata"
fileList = list.files(path)
file.names = as.numeric(sub("\\.csv$","",fileList))
selected.files = fileList[match(c(2, 4, 8, 10, 12),file.names)]
Data = lapply(file.path(path,selected.files),read.csv)
class(Data)
str(Data)
res = lapply(Data, function(x) x[complete.cases(x),])
res2 = data.frame()
for(i in 1:length(res)){
res2 <- rbind(res2,rownames<-(NULL), nob=nrow(res[[i]]))
}
res2 <- cbind(res2,id=c(2, 4, 8, 10, 12))
colnames(res2) <- c("nob","ID")
res2
rownames(res2) <- NULL
res2
path = "C:/Users/607518069/Documents/R Projects/Coursera/R-Programming-Coursera/Data/specdata"
fileList = list.files(path)
file.names = as.numeric(sub("\\.csv$","",fileList))
selected.files = fileList[match(c(2, 4, 8, 10, 12),file.names)]
Data = lapply(file.path(path,selected.files),read.csv)
class(Data)
str(Data)
res = lapply(Data, function(x) x[complete.cases(x),])
res2 = data.frame(row.names=NULL)
for(i in 1:length(res)){
res2 <- rbind(res2, nob=nrow(res[[i]]))
}
res2 <- cbind(res2,id=c(2, 4, 8, 10, 12))
colnames(res2) <- c("nob","ID")
res2
path = "C:/Users/607518069/Documents/R Projects/Coursera/R-Programming-Coursera/Data/specdata"
fileList = list.files(path)
file.names = as.numeric(sub("\\.csv$","",fileList))
selected.files = fileList[match(c(2, 4, 8, 10, 12),file.names)]
Data = lapply(file.path(path,selected.files),read.csv)
res = lapply(Data, function(x) x[complete.cases(x),])
res2 = data.frame(res2, row.names=NULL)
res2 = data.frame()
for(i in 1:length(res)){
res2 <- rbind(res2, nob=nrow(res[[i]]))
}
rownames(res2) <- NULL
res2 <- cbind(res2,id=c(2, 4, 8, 10, 12))
colnames(res2) <- c("nob","ID")
res2
res2 = res2[c("ID", "nob")]
res2
path = "C:/Users/607518069/Documents/R Projects/Coursera/R-Programming-Coursera/Data/specdata"
fileList = list.files(path)
file.names = as.numeric(sub("\\.csv$","",fileList))
selected.files = fileList[match(c(2, 4, 8, 10, 12),file.names)]
Data = lapply(file.path(path,selected.files),read.csv)
res = lapply(Data, function(x) x[complete.cases(x),])
res2 = data.frame()
for(i in 1:length(res)){
res2 <- rbind(res2, nob=nrow(res[[i]]))
}
rownames(res2) <- NULL
res2 <- cbind(res2,id=c(2, 4, 8, 10, 12))
res2
colnames(res2) <- c("nob","ID")
res2
res2 = res2[c("ID", "nob")]
res2
complete <- function(directory, id = 1:332) {
#set the path
path = "C:/Users/Fahad/Documents/R Projects/Coursera/R-Programming-Coursera/Data/"
path = c(path,directory)
path = paste(path,collapse="")
#get the file List in that directory
fileList = list.files(path)
#extract the file names and store as numeric for comparison
file.names = as.numeric(sub("\\.csv$","",fileList))
#select files to be imported based on the user input or default
selected.files = fileList[match(id,file.names)]
#import data
Data = lapply(file.path(path,selected.files),read.csv)
#get the complete cases
completeCases = lapply(Data, function(Data) Data[complete.cases(Data),])
#create a dataframe to return
res = data.frame()
#get the number of complete cases and put it in the result dataframe
for(i in 1:length(completeCases)){
res <- rbind(res, nob=nrow(completeCases[[i]]))
}
#add ID column
res <- cbind(res,id=id)
#remove rownames
rownames(res) <- NULL
#add column names
colnames(res) <- c("nob","id")
#re-arrange column names
res = res[c("id", "nob")]
#return the results dataframe
res
}
complete("specdata",1)
complete("specdata",1)
complete <- function(directory, id = 1:332) {
#set the path
"C:/Users/607518069/Documents/R Projects/Coursera/R-Programming-Coursera/Data/"
path = c(path,directory)
path = paste(path,collapse="")
#get the file List in that directory
fileList = list.files(path)
#extract the file names and store as numeric for comparison
file.names = as.numeric(sub("\\.csv$","",fileList))
#select files to be imported based on the user input or default
selected.files = fileList[match(id,file.names)]
#import data
Data = lapply(file.path(path,selected.files),read.csv)
#get the complete cases
completeCases = lapply(Data, function(Data) Data[complete.cases(Data),])
#create a dataframe to return
res = data.frame()
#get the number of complete cases and put it in the result dataframe
for(i in 1:length(completeCases)){
res <- rbind(res, nob=nrow(completeCases[[i]]))
}
#add ID column
res <- cbind(res,id=id)
#remove rownames
rownames(res) <- NULL
#add column names
colnames(res) <- c("nob","id")
#re-arrange column names
res = res[c("id", "nob")]
#return the results dataframe
res
}
complete("specdata",1)
complete <- function(directory, id = 1:332) {
#set the path
path = "C:/Users/607518069/Documents/R Projects/Coursera/R-Programming-Coursera/Data/"
path = c(path,directory)
path = paste(path,collapse="")
#get the file List in that directory
fileList = list.files(path)
#extract the file names and store as numeric for comparison
file.names = as.numeric(sub("\\.csv$","",fileList))
#select files to be imported based on the user input or default
selected.files = fileList[match(id,file.names)]
#import data
Data = lapply(file.path(path,selected.files),read.csv)
#get the complete cases
completeCases = lapply(Data, function(Data) Data[complete.cases(Data),])
#create a dataframe to return
res = data.frame()
#get the number of complete cases and put it in the result dataframe
for(i in 1:length(completeCases)){
res <- rbind(res, nob=nrow(completeCases[[i]]))
}
#add ID column
res <- cbind(res,id=id)
#remove rownames
rownames(res) <- NULL
#add column names
colnames(res) <- c("nob","id")
#re-arrange column names
res = res[c("id", "nob")]
#return the results dataframe
res
}
complete("specdata",1)
complete("specdata",c(2, 4, 8, 10, 12))
complete("specdata",30:25)
complete("specdata",3)
complete <- function(directory, id = 1:332) {
#set the path
path = "C:/Users/607518069/Documents/R Projects/Coursera/R-Programming-Coursera/Data/"
path = c(path,directory)
path = paste(path,collapse="")
#get the file List in that directory
fileList = list.files(path)
#extract the file names and store as numeric for comparison
file.names = as.numeric(sub("\\.csv$","",fileList))
#select files to be imported based on the user input or default
selected.files = fileList[match(id,file.names)]
#import data
Data = lapply(file.path(path,selected.files),read.csv)
#get the complete cases
completeCases = lapply(Data, function(Data) Data[complete.cases(Data),])
#create a dataframe to return
res = data.frame()
#get the number of complete cases and put it in the result dataframe
for(i in 1:length(completeCases)){
res <- rbind(res, nob=nrow(completeCases[[i]]))
}
#add ID column
res <- cbind(res,id=id)
#remove rownames
rownames(res) <- NULL
#add column names
colnames(res) <- c("nob","id")
#re-arrange column names
res = res[c("id", "nob")]
#return the results dataframe
res
}
complete("specdata")
complete("specdata",30:25)
library(datasets)
data(iris)
?iris
class(iris)
iris$Sepal.Length
iris$Species
tapply(iris$Sepal.Length, iris$Species, mean)
str(iris)
apply(iris[, 1:4], 2, mean)
apply(iris[, 1:4], 1, mean)
str(iris)
colMeans(iris)
colMeans(iris$Sepal.Length)
apply(iris, 2, mean)
library(datasets)
data(mtcars)
?mtcars
class(mtcars)
tapply(mtcars$cyl, mtcars$mpg, mean)
tapply(mtcars$mpg, mtcars$cyl, mean)
with(mtcars, tapply(mpg, cyl, mean))
lapply(mtcars, mean)
split(mtcars, mtcars$cyl)
class(mtcars)
spl = split(mtcars, mtcars$cyl) #this will split based on number of cyl
spl
lapply(spl, mean)
lapply(spl[[5]], mean)
lapply(spl[[,5]], mean)
debug(ls)
exit
2
2
3
1
end
exit()
1
1
1
1
2
2
2
22
3
3
34
4
45
55
6
6
777
87
8
9
10
10
10
undebug(ls)
q
n
spl
str(spl)
mean(unlist(sapply(spl, '[', 'hp')))
mapply(function(y) mean(spl$hp), x)
mapply(function(y) mean(spl$hp), spl)
mapply(function(y) mean(y$hp), spl)
abs(82.63636-209.21429)
makeCacheMatrix <- function(matrix = matrix()) {
#check if the object passed is a matrix...
if(!is.matrix(matrix))
{
stop("Object passed must be a matrix!")
}
## reset/initialise the cache
inversedCache <- NULL
##set up the matrix
set <- function(y) {
matrix <<- y
inversedCache <<- NULL
}
## getter method to return the Inverse Cached Matrix
get <- function() matrix
setInverse <- function(inverse) inversedCache <<- inverse
getInverse <- function() inversedCache
#setup list
list(set = set, get = get,
setInverse = setInverse,
getInverse = getInverse)
}
## The following function calculates the inverse of the special "matrix" created with the above function.
## However, it first checks to see if the inverse has already been calculated. If so, it gets the inverse from
## the cache and skips the computation. Otherwise, it calculates the inverse of the data and sets the value of
## the inversed matrix in the cache via the setInverse function.
## 1. check the user input
## 2. check to see if the inverse of x has already been calculated
## 3. if so, return the Inverse in the cache via the getInverse function
## 4. otherwise, calculate the inverse of the matrix
## 5. And set the value of the inverse in the cache via the setInverse function.
cacheSolve <- function(x, ...) {
#check for the wrong input
if((!is.list(x))|(names(x[1])!="set")|(names(x[2])!="get")|(names(x[3])!="setInverse")|(names(x[4])!="getInverse"))
{
stop("Input must be a list generated from the function makeCacheMatrix!")
}
## Return a matrix that is the inverse of 'x'
## get the current cached Inverse
m <- x$getInverse()
#check if its calculated before and not empty
if(!is.null(m)) {
message("getting cached data")
return(m)
}
#else calculate the Inverse and cache it
data <- x$get()
results <- solve(data, ...)
x$setInverse(results)
results
}
myMatrix = matrix(1:4,2,2)
myMatrix
makeCacheMatrix(myMatrix)
x = makeCacheMatrix(myMatrix)
cacheSolve(x)
x
cacheSolve(x)
x <- c(a = 100, b = 99, c = 98)
x
class(x)
y <- list(a = 100, b = 99, c = 98)
y
y$a
y$b
y$c
y <- list(a = 100:200, b = 99:100, c = 98:100)
y$c
y$a
x = makeCacheMatrix(y)
x = makeCacheMatrix(myMatrix)
class(x)
cacheSolve(x)
cacheSolve(x, set)
myMatrix = matrix(1:4,2,2)
x = makeCacheMatrix(myMatrix)
cacheSolve(x, set)
myMatrix = matrix(1:4,2,2)
x = makeCacheMatrix(myMatrix)
cacheSolve(x)
cacheSolve(x)
cacheSolve(x)
myMatrix$get()
myMatrix = matrix(1:4,2,2)
x = makeCacheMatrix(myMatrix)
x$get()
x$getInverse
cacheSolve(x)
x$getInverse
myMatrix = matrix(c(0,5,99,66), nrow=2, ncol=2))
myMatrix = matrix(c(0,5,99,66), nrow=2, ncol=2)
x$get()
x = makeCacheMatrix(myMatrix)
cacheSolve(x)
amatrix = makeCacheMatrix(matrix(c(1,2,3,4), nrow=2, ncol=2))
amatrix$get()         # Returns original matrix
cacheSolve(amatrix)   # Computes, caches, and returns    matrix inverse
amatrix$getinverse()  # Returns matrix inverse
amatrix$getInverse()  # Returns matrix inverse
cacheSolve(amatrix)   # Returns cached matrix inverse using previously computed matrix inverse
amatrix$set(matrix(c(0,5,99,66), nrow=2, ncol=2)) # Modify existing matrix
cacheSolve(amatrix)   # Computes, caches, and returns new matrix inverse
amatrix$get()         # Returns matrix
amatrix$getInverse()  # Returns matrix inverse
setwd("~/R Projects/Coursera/Getting-and-Cleaning-Data/Data")
housingData = read.csv("getdata_data_ss06hid.csv")
str(housingData)
table(housingData$DIVISION)
table(housingData$REGION)
table(housingData$ADJUST)
table(housingData$TYPE)
head(housingData)
table(housingData$HHL)
table(housingData$VAL)
housingData$FES
table(housingData$FES)
head(housingData$FES)
install.packages("xlsx")
library(xlsx)
dat = read.xlsx("getdata_data_DATA.gov_NGAP.xlsx",header=TRUE, sheetIndex=1,colIndex=7:15, rowIndex=18:23)
str(dat)
sum(dat$Zip*dat$Ext,na.rm=T)
install.packages("XML")
library(XML)
fileURL = https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Frestaurants.xml
fileURL = "https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Frestaurants.xml"
doc = xmlTreeParse(fileURL, useInternal=TRUE)
fileURL = "https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Frestaurants.xml"
doc = xmlTreeParse(fileURL)
fileURL = "https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Frestaurants.xml"
doc = xmlTreeParse(fileURL)
doc = xmlTreeParse(fileURL, isURL=TRUE)
doc = xmlTreeParse(fileURL, isURL=FALSE)
download.file(fileURL, destfile= tf = tempfile(fileext=".xml"))
download.file(fileURL, destfile= tf <- tempfile(fileext=".xml"))
doc = xmlParse(tf)
doc
zip = xpathApply(doc, "/response/row/row/zipcode", xmlValue)
zip
sum(zip == "21231")
system.time(sapply(split(DT$pwgtp15,DT$SEX),mean))
system.time(mean(DT$pwgtp15,by=DT$SEX))
library(data.table)
install.packages("data.table")
library(data.table)
fileURL = "https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Fss06pid.csv"
download.file(fileURL, destfile="DT", method="curl")
download.file(fileURL, destfile="./Data/DT", method="curl")
download.file(fileURL, destfile="DT.csv", method="curl")
download.file(fileURL, destfile="DT.csv")
DT = fread("DT.csv")
system.time(sapply(split(DT$pwgtp15,DT$SEX),mean))
system.time(mean(DT$pwgtp15,by=DT$SEX))
mean(DT[DT$SEX==1,]$pwgtp15); mean(DT[DT$SEX==2,]$pwgtp15)
system.time(mean(DT[DT$SEX==1,]$pwgtp15)); system.time(mean(DT[DT$SEX==2,]$pwgtp15))
system.time(tapply(DT$pwgtp15,DT$SEX,mean))
mean(DT$pwgtp15,by=DT$SEX)
sapply(split(DT$pwgtp15,DT$SEX),mean
)
system.time(rowMeans(DT)[DT$SEX==1]; rowMeans(DT)[DT$SEX==2])
system.time(rowMeans(DT)[DT$SEX==1]); system.time(rowMeans(DT)[DT$SEX==2])
system.time(DT[,mean(pwgtp15),by=SEX])
DT[,mean(pwgtp15),by=SEX]
tables
tables()
zip
